## ç¬¬äºŒç« ï¼šSolidity å¿«é€Ÿå…¥é—¨

### ä¸€ã€å¡«ç©ºé¢˜

1. Solidityä¸­å­˜å‚¨æˆæœ¬æœ€é«˜çš„å˜é‡ç±»å‹æ˜¯`state`å˜é‡ï¼Œå…¶æ•°æ®æ°¸ä¹…å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šã€‚  
2. ä½¿ç”¨`constant`å…³é”®å­—å£°æ˜çš„å¸¸é‡å¯ä»¥èŠ‚çœGasè´¹ï¼Œå…¶å€¼å¿…é¡»åœ¨ç¼–è¯‘æ—¶ç¡®å®šã€‚  
4. å½“åˆçº¦æ”¶åˆ°ä¸å¸¦ä»»ä½•æ•°æ®çš„ä»¥å¤ªè½¬è´¦æ—¶ï¼Œä¼šè‡ªåŠ¨è§¦å‘`receive`å‡½æ•°ã€‚  

---

### äºŒã€é€‰æ‹©é¢˜

4. å‡½æ•°é€‰æ‹©å™¨(selector)çš„è®¡ç®—æ–¹æ³•æ˜¯ï¼šB  
   **A)** sha3(å‡½æ•°ç­¾å)  
   **B)** å‡½æ•°åå“ˆå¸Œçš„å‰4å­—èŠ‚  
   **C)** å‡½æ•°å‚æ•°çš„ABIç¼–ç   
   **D)** å‡½æ•°è¿”å›å€¼çš„ç±»å‹å“ˆå¸Œ  

5. ä»¥ä¸‹å…³äºmappingçš„å™è¿°é”™è¯¯çš„æ˜¯ï¼šD  
   **A)** é”®ç±»å‹å¯ä»¥æ˜¯ä»»æ„åŸºæœ¬ç±»å‹  
   **B)** å€¼ç±»å‹æ”¯æŒåµŒå¥—mapping  
   **C)** å¯ä»¥é€šè¿‡`length`å±æ€§è·å–å¤§å°  
   **D)** æ— æ³•ç›´æ¥éå†æ‰€æœ‰é”®å€¼å¯¹  

---

### ä¸‰ã€ç®€ç­”é¢˜

6. è¯·è¯´æ˜`require`ã€`assert`ã€`revert`ä¸‰è€…çš„ä½¿ç”¨åœºæ™¯å·®å¼‚ï¼ˆä»è§¦å‘æ¡ä»¶å’ŒGasé€€è¿˜è§’åº¦ï¼‰

requireã€assert å’Œ revert æ˜¯ç”¨äºå¤„ç†é”™è¯¯å’Œå¼‚å¸¸çš„ä¸‰ç§å¸¸ç”¨æœºåˆ¶

`require(bool,(string|error)?)`

æ£€æŸ¥ä¸€ä¸ªæ¡ä»¶,ä¸ºfalseåˆ™æŠ›å‡ºå¼‚å¸¸ï¼›

âš ï¸æ‰€æœ‰å·²æ¶ˆè€—çš„ Gas éƒ½ä¼šè¢«æ¶ˆè€—æ‰ï¼Œä½†å®ƒä¼šé€€è¿˜å‰©ä½™çš„ Gasï¼ˆåœ¨ EVMä¸­æ˜¯é€šè¿‡ä¸­æ–­äº¤æ˜“çš„æ‰§è¡Œæ¥é€€è¿˜æœªæ¶ˆè€—çš„ Gasï¼‰ã€‚

`assert(bool)`

ç”¨äºå†…éƒ¨é”™è¯¯æ•è·ï¼Œé€šå¸¸ç”¨æ¥éªŒè¯ä»£ç çš„ä¸å¯è¾¾çŠ¶æ€ï¼Œå¯ä»¥åœ¨åˆçº¦å†…æ£€æŸ¥ä¸å˜æ€§æ¡ä»¶ï¼›ä¸å¯è‡ªå®šä¹‰æŠ›å‡ºçš„é”™è¯¯ã€‚

âš ï¸ä¸ä¼šé€€æ¢ä»»ä½•Gasã€‚

`revert((string|error)?)`

æ‰‹åŠ¨è°ƒç”¨ï¼Œå›æ»šäº¤æ˜“å¹¶return é”™è¯¯ä¿¡æ¯ã€‚

ğŸ’¡ä¼ å…¥è‡ªå®šä¹‰Errorå®ä¾‹ä¼šæ›´çœgasï¼›

âš ï¸æ‰€æœ‰å·²æ¶ˆè€—çš„ Gas éƒ½ä¼šè¢«æ¶ˆè€—æ‰ï¼Œä½†å®ƒä¼šé€€è¿˜å‰©ä½™çš„ Gasã€‚


7. æŸåˆçº¦åŒæ—¶ç»§æ‰¿Aå’ŒBåˆçº¦ï¼Œä¸¤è€…éƒ½æœ‰`foo()`å‡½æ•°ï¼š

```solidity
contract C is A, B {
    function foo() override(A,B) {...}
}
```

å®é™…æ‰§è¡Œæ—¶ä¼šè°ƒç”¨å“ªä¸ªçˆ¶åˆçº¦çš„å‡½æ•°ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ

```
è°ƒç”¨B.fooï¼ŒæŒ‰ç…§override(...)ä¸­æŒ‡å®šçš„é¡ºåº(å=>å‰/å³=>å·¦)
```


8. å½“ä½¿ç”¨`call`æ–¹æ³•å‘é€ETHæ—¶ï¼Œä»¥ä¸‹ä¸¤ç§å†™æ³•æœ‰ä½•æœ¬è´¨åŒºåˆ«ï¼Ÿ

```solidity
(1) addr.call{value: 1 ether}("")
(2) addr.transfer(1 ether)
```

```solidity
- <address>.call(bytes memory) returns (bool, bytes memory)

å¯ä»¥å‘é€ä»£è´§åŒæ—¶è°ƒç”¨ç›®æ ‡åˆçº¦ä¸­çš„å‡½æ•°ï¼Œè¿”å›æ‰§è¡Œç»“æœbooleanä¸æ•°æ®ï¼›
ä½çº§APIï¼Œä½¿ç”¨æ—¶éœ€å°å¿ƒï¼Œæœ‰è¢«å¯¹æ–¹callå›æ¥çš„é£é™©ï¼›

- <address payable>.transfer(uint256 amount)

è½¬è´¦å¤±è´¥ï¼ˆä½™é¢ä¸è¶³ï¼Œæ‹’æ”¶ï¼‰æ—¶revertï¼Œå¤±è´¥æœ€å¤šèŠ±è´¹2300Gasï¼Œ
```

ğŸ’¡æœ¬è´¨åŒºåˆ«ï¼Œé™åˆ¶Gasçš„ä½¿ç”¨ï¼Œé˜²èŒƒé‡å…¥æ”»å‡»